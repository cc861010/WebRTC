<!DOCTYPE html>
<html>
<head>
    <title>RTCCaller</title>
    <script src="EventEmitter.js"></script>
    <script src="Signaling.js"></script>
    <script src="RTCCaller.js"></script>
</head>
<body>

</body>
</html>

//callee
var a = {"sdp":"v=0\r\no=- 6049274202234423500 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE audio data\r\na=msid-semantic: WMS\r\nm=audio 1 RTP/SAVPF 111 103 104 0 8 106 105 13 126\r\nc=IN IP4 0.0.0.0\r\na=rtcp:1 IN IP4 0.0.0.0\r\na=ice-ufrag:cq5r34RC/+DKo2+y\r\na=ice-pwd:MKCbhfmfCyPfFSOlqrRWkixM\r\na=ice-options:google-ice\r\na=fingerprint:sha-256 24:7A:49:BB:AE:F9:FC:46:39:98:B5:F3:81:7B:0C:E9:E5:80:EF:21:8A:84:B3:1C:04:34:B0:E9:EC:64:D5:0B\r\na=setup:actpass\r\na=mid:audio\r\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\na=recvonly\r\na=rtcp-mux\r\na=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:HWPJBvmXNgZGeSDJcP5SYQutqKvwRAcvY0kPTlj7\r\na=rtpmap:111 opus/48000/2\r\na=fmtp:111 minptime=10\r\na=rtpmap:103 ISAC/16000\r\na=rtpmap:104 ISAC/32000\r\na=rtpmap:0 PCMU/8000\r\na=rtpmap:8 PCMA/8000\r\na=rtpmap:106 CN/32000\r\na=rtpmap:105 CN/16000\r\na=rtpmap:13 CN/8000\r\na=rtpmap:126 telephone-event/8000\r\na=maxptime:60\r\nm=application 1 RTP/SAVPF 101\r\nc=IN IP4 0.0.0.0\r\na=rtcp:1 IN IP4 0.0.0.0\r\na=ice-ufrag:cq5r34RC/+DKo2+y\r\na=ice-pwd:MKCbhfmfCyPfFSOlqrRWkixM\r\na=ice-options:google-ice\r\na=fingerprint:sha-256 24:7A:49:BB:AE:F9:FC:46:39:98:B5:F3:81:7B:0C:E9:E5:80:EF:21:8A:84:B3:1C:04:34:B0:E9:EC:64:D5:0B\r\na=setup:actpass\r\na=mid:data\r\na=sendrecv\r\nb=AS:30\r\na=rtcp-mux\r\na=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:HWPJBvmXNgZGeSDJcP5SYQutqKvwRAcvY0kPTlj7\r\na=rtpmap:101 google-data/90000\r\na=ssrc:325744214 cname:9Mjh+yBk1gBL9omR\r\na=ssrc:325744214 msid:sendDataChannel sendDataChannel\r\na=ssrc:325744214 mslabel:sendDataChannel\r\na=ssrc:325744214 label:sendDataChannel\r\n","type":"offer"}
signaling.emitMessage("sdpOffer",JSON.stringify(a))

//caller
var b = JSON.parse('{\"sdp\":\"v=0\\r\\no=- 6049274202234423500 2 IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\na=group:BUNDLE audio data\\r\\na=msid-semantic: WMS\\r\\nm=audio 1 RTP/SAVPF 111 103 104 0 8 106 105 13 126\\r\\nc=IN IP4 0.0.0.0\\r\\na=rtcp:1 IN IP4 0.0.0.0\\r\\na=ice-ufrag:cq5r34RC/+DKo2+y\\r\\na=ice-pwd:MKCbhfmfCyPfFSOlqrRWkixM\\r\\na=ice-options:google-ice\\r\\na=fingerprint:sha-256 24:7A:49:BB:AE:F9:FC:46:39:98:B5:F3:81:7B:0C:E9:E5:80:EF:21:8A:84:B3:1C:04:34:B0:E9:EC:64:D5:0B\\r\\na=setup:actpass\\r\\na=mid:audio\\r\\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\\r\\na=recvonly\\r\\na=rtcp-mux\\r\\na=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:HWPJBvmXNgZGeSDJcP5SYQutqKvwRAcvY0kPTlj7\\r\\na=rtpmap:111 opus/48000/2\\r\\na=fmtp:111 minptime=10\\r\\na=rtpmap:103 ISAC/16000\\r\\na=rtpmap:104 ISAC/32000\\r\\na=rtpmap:0 PCMU/8000\\r\\na=rtpmap:8 PCMA/8000\\r\\na=rtpmap:106 CN/32000\\r\\na=rtpmap:105 CN/16000\\r\\na=rtpmap:13 CN/8000\\r\\na=rtpmap:126 telephone-event/8000\\r\\na=maxptime:60\\r\\nm=application 1 RTP/SAVPF 101\\r\\nc=IN IP4 0.0.0.0\\r\\na=rtcp:1 IN IP4 0.0.0.0\\r\\na=ice-ufrag:cq5r34RC/+DKo2+y\\r\\na=ice-pwd:MKCbhfmfCyPfFSOlqrRWkixM\\r\\na=ice-options:google-ice\\r\\na=fingerprint:sha-256 24:7A:49:BB:AE:F9:FC:46:39:98:B5:F3:81:7B:0C:E9:E5:80:EF:21:8A:84:B3:1C:04:34:B0:E9:EC:64:D5:0B\\r\\na=setup:actpass\\r\\na=mid:data\\r\\na=sendrecv\\r\\nb=AS:30\\r\\na=rtcp-mux\\r\\na=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:HWPJBvmXNgZGeSDJcP5SYQutqKvwRAcvY0kPTlj7\\r\\na=rtpmap:101 google-data/90000\\r\\na=ssrc:325744214 cname:9Mjh+yBk1gBL9omR\\r\\na=ssrc:325744214 msid:sendDataChannel sendDataChannel\\r\\na=ssrc:325744214 mslabel:sendDataChannel\\r\\na=ssrc:325744214 label:sendDataChannel\\r\\n\",\"type\":\"offer\"}')
signaling.emitMessage("sdpAnswer",JSON.stringify(b))
var candidate = JSON.stringify(signaling.candidate)

//callee
var c = [{"sdpMLineIndex":0,"sdpMid":"audio","candidate":"a=candidate:77142221 1 udp 2113937151 192.168.137.1 57614 typ host generation 0\r\n"},{"sdpMLineIndex":0,"sdpMid":"audio","candidate":"a=candidate:77142221 2 udp 2113937151 192.168.137.1 57614 typ host generation 0\r\n"},{"sdpMLineIndex":0,"sdpMid":"audio","candidate":"a=candidate:1124189866 1 udp 2113937151 10.254.219.122 57615 typ host generation 0\r\n"},{"sdpMLineIndex":0,"sdpMid":"audio","candidate":"a=candidate:1124189866 2 udp 2113937151 10.254.219.122 57615 typ host generation 0\r\n"},{"sdpMLineIndex":1,"sdpMid":"data","candidate":"a=candidate:77142221 1 udp 2113937151 192.168.137.1 57614 typ host generation 0\r\n"},{"sdpMLineIndex":1,"sdpMid":"data","candidate":"a=candidate:77142221 2 udp 2113937151 192.168.137.1 57614 typ host generation 0\r\n"},{"sdpMLineIndex":1,"sdpMid":"data","candidate":"a=candidate:1124189866 1 udp 2113937151 10.254.219.122 57615 typ host generation 0\r\n"},{"sdpMLineIndex":1,"sdpMid":"data","candidate":"a=candidate:1124189866 2 udp 2113937151 10.254.219.122 57615 typ host generation 0\r\n"},{"sdpMLineIndex":0,"sdpMid":"audio","candidate":"a=candidate:1243276349 1 tcp 1509957375 192.168.137.1 0 typ host generation 0\r\n"},{"sdpMLineIndex":0,"sdpMid":"audio","candidate":"a=candidate:1243276349 2 tcp 1509957375 192.168.137.1 0 typ host generation 0\r\n"},{"sdpMLineIndex":1,"sdpMid":"data","candidate":"a=candidate:1243276349 1 tcp 1509957375 192.168.137.1 0 typ host generation 0\r\n"},{"sdpMLineIndex":1,"sdpMid":"data","candidate":"a=candidate:1243276349 2 tcp 1509957375 192.168.137.1 0 typ host generation 0\r\n"},{"sdpMLineIndex":0,"sdpMid":"audio","candidate":"a=candidate:226638426 1 tcp 1509957375 10.254.219.122 0 typ host generation 0\r\n"},{"sdpMLineIndex":0,"sdpMid":"audio","candidate":"a=candidate:226638426 2 tcp 1509957375 10.254.219.122 0 typ host generation 0\r\n"},{"sdpMLineIndex":1,"sdpMid":"data","candidate":"a=candidate:226638426 1 tcp 1509957375 10.254.219.122 0 typ host generation 0\r\n"},{"sdpMLineIndex":1,"sdpMid":"data","candidate":"a=candidate:226638426 2 tcp 1509957375 10.254.219.122 0 typ host generation 0\r\n"}]
var c = JSON.parse(JSON.stringify(c));
for(var i=0;i<c.length;i++){
    signaling.emitMessage("candidate",c[i])
}
